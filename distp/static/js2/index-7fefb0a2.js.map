{"version":3,"file":"index-7fefb0a2.js","sources":["../../../src/components/HelloWorld.vue","../../../src/main.js"],"sourcesContent":["<script setup>\nimport { reactive, onMounted } from \"vue\";\nimport { ElMessage, ElMessageBox, dayjs } from \"element-plus\";\nimport { useDark, useToggle } from \"@vueuse/core\";\nimport axios from \"axios\";\n// import dayjs from \"element-plus\";\nconst isDark = useDark();\nconst toggleDark = useToggle(isDark);\nconst url_list = [\n  \"http://192.168.31.18:9528/api/mj\",\n  \"https://flask-web-fraework-pm-htdtuvjbah.cn-hangzhou.fcapp.run/api/mj\",\n];\nconst url = url_list[1];\nlet mahjongData = reactive({\n  data: [\n    {\n      id: 0,\n      name: \" \",\n      winningProbability: 0,\n      numberOfVictories: 0,\n      numberOfDefeats: 0,\n      moneyOfVictories: 0,\n      moneyOfDefeats: 0,\n      moneyOfTotal: 0,\n      mahjongRecord: [],\n      thisMoney: \"-\",\n    },\n  ],\n  activeName: \"\",\n  isLoading: false,\n});\n\nlet latelyData = reactive({\n  data: [],\n  showMore: false,\n  showDetail: false,\n  detailData: {},\n});\n\nconst getDateByIndex = (index) => {\n  return dayjs(new Date(latelyData.data[index].date)).format(\n    \"YYYY-MM-DD HH:mm\"\n  );\n};\n\nlet sumData = reactive({\n  showDetail: false,\n  detailData: {},\n});\n\n//上传云端数据\nconst uploadData = async () => {\n  let data = {\n    mahjongData: mahjongData.data,\n    latelyData: latelyData.data,\n    type: \"upload\",\n  };\n  let res = await axios.post(url, data);\n  // if (res.data.code === 200) {\n  //   ElMessage.success(\"上传成功\");\n  // } else {\n  //   ElMessage.error(\"上传失败\");\n  // }\n};\n\n//下载云端数据\nconst downloadData = async () => {\n  let data = {\n    type: \"download\",\n  };\n  let res = await axios.post(url, data);\n  let cloudData = res.data;\n  // 页面显示加载中\n  // 若本地数据和云端数据不一致，则更新本地数据\n  if (\n    JSON.stringify(cloudData.mahjongData) != JSON.stringify(mahjongData.data)\n  ) {\n    mahjongData.data = cloudData.mahjongData;\n    // console.log(\"mahjongData云端数据更新成功\");\n  }\n  if (JSON.stringify(cloudData.latelyData) != JSON.stringify(latelyData.data)) {\n    latelyData.data = cloudData.latelyData;\n    // console.log(\"mahjongData云端数据更新成功\");\n  }\n  return res.data;\n  // if (res.data.code === 200) {\n  //   ElMessage.success(\"下载成功\");\n  //   mahjongData.data = res.data.data.mahjongData;\n  //   latelyData.data = res.data.data.latelyData;\n  // } else {\n  //   ElMessage.error(\"下载失败\");\n  // }\n};\n\n//清空云端数据\nconst clearCloudData = async () => {\n  let data = {\n    type: \"clear\",\n  };\n  let res = await axios.post(url, data);\n  location.reload();\n};\n\nconst showCol = (name) => {\n  document.querySelector(\".operation\").style.zIndex = -100;\n  if (name === \"\") {\n    setTimeout(() => {\n      document.querySelector(\".operation\").style.zIndex = 100;\n    }, 300);\n  }\n};\n\n//检测mahjongDat的变化，保存到localStorage\n// watch(mahjongData.data, (val) => {\n//   localStorage.setItem(\"mahjongData\", JSON.stringify(val.data));\n//   uploadData();\n// });\n\n// watch(latelyData, (val) => {\n//   localStorage.setItem(\"latelyData\", JSON.stringify(val.data));\n//   // 上传数据到云端\n//   uploadData();\n// });\n\nonMounted(() => {\n  // console.log(\"mounted\");\n  // const loadingInstance1 = ElLoading.service({ fullscreen: true,\n  //   // lock: true,\n  //   text: '加载中',\n  //   // spinner: 'el-icon-loading',\n  //   background: 'rgba(0, 0, 0, 0.8)' })\n  mahjongData.isLoading = true;\n  downloadData();\n  // // 页面显示加载中\n  // // 若本地数据和云端数据不一致，则更新本地数据\n  // //\n  // if (cloudData.mahjongData != mahjongData.data) {\n  //   mahjongData.data = cloudData.mahjongData;\n  //   // console.log(\"mahjongData云端数据更新成功\");\n  // }\n  // if (cloudData.latelyData != latelyData.data) {\n  //   latelyData.data = cloudData.latelyData;\n  //   // console.log(\"mahjongData云端数据更新成功\");\n  // }\n  mahjongData.isLoading = false;\n  // loadingInstance1.close()\n\n  //给最新的版本号添加双击事件，双击后，清空localStorage\n  let version = document.querySelector(\".version\");\n  clickEvent(version, null, cleanCache);\n\n  // 从localStorage中获取mahjongData.data\n  // let mahjongDataFromLocalStorage = localStorage.getItem(\"mahjongData\");\n  // if (mahjongDataFromLocalStorage) {\n  //   let tmp = JSON.parse(mahjongDataFromLocalStorage);\n  //   //清空mahjongData.data\n  //   mahjongData.data = tmp;\n  // }\n  // let latelyDataFromLocalStorage = localStorage.getItem(\"latelyData\");\n  // if (latelyDataFromLocalStorage) {\n  //   let tmp = JSON.parse(latelyDataFromLocalStorage);\n  //   //清空mahjongData.data\n  //   latelyData.data = tmp;\n  // }\n});\n\nconst dealNum = (e, type) => {\n  if (type === \"blur\") {\n    document.querySelector(\".operation\").style.backgroundColor = \"\";\n    document.querySelector(\".operation\").style.zIndex = -1000;\n    return;\n  }\n  // 关闭折叠面板\n  mahjongData.activeName = \"\";\n  // console.log(\"dealNum\");\n  // 获取所有的输入框，遍历，若只有其他输入框都可以转为数字，则计算当前输入框的值，使得总和为0\n  //设置z-index为100\n  document.querySelector(\".operation\").style.zIndex = 100;\n  // 背景颜色,rgb(181, 178, 178)，透明度为0.5\n\n  document.querySelector(\".operation\").style.backgroundColor =\n    \"rgba(181, 178, 178, 0.19)\";\n\n  let allInput = document.querySelectorAll(\".el-input__inner\");\n  let allInputArr = Array.from(allInput);\n  let numberOfNums = 0;\n  allInput.forEach((item) => {\n    if (item.value === \"\" || isNaN(item.value) || item === e.target) {\n      return false;\n    }\n    numberOfNums++;\n  });\n  // console.log(\"numberOfNums\", numberOfNums);\n  if (numberOfNums < allInput.length - 1) {\n    return;\n  }\n  let sum = 0;\n  allInputArr.forEach((item) => {\n    if (item === e.target) {\n      return;\n    }\n    if (item.value) {\n      sum += Number(item.value);\n    }\n  });\n  // console.log(\"sum\", sum);\n  mahjongData.data[allInputArr.indexOf(e.target)].thisMoney = -sum;\n};\n\nconst addI = () => {\n  // console.log(\"addI\");\n  // 获取所有的输入框，遍历，若只有其他输入框都可以转为数字，则计算当前输入框的值，使得总和为0\n  let allInput = document.querySelectorAll(\".el-input__inner\");\n  let allInputArr = Array.from(allInput);\n  let flag = true;\n  // 若有输入框为空，则不计算\n  allInput.forEach((item, index) => {\n    if (item.value === \"\" || isNaN(item.value)) {\n      ElMessage({\n        message: `\"${mahjongData.data[index].name}\"数据填写有误`,\n        type: \"warning\",\n      });\n      flag = false;\n      return false;\n    }\n  });\n\n  //若合计不为0，则不计算\n  let sum = 0;\n  allInputArr.forEach((item) => {\n    sum += Number(item.value);\n  });\n  if (sum !== 0) {\n    ElMessage({\n      message: `合计不为0`,\n      type: \"warning\",\n    });\n    flag = false;\n  }\n  if (!flag) {\n    return;\n  }\n  for (let i = 0; i < allInputArr.length; i++) {\n    mahjongData.data[i].thisMoney = Number(allInputArr[i].value);\n    if (mahjongData.data[i].thisMoney >= 0) {\n      mahjongData.data[i].numberOfVictories++;\n      mahjongData.data[i].moneyOfVictories += mahjongData.data[i].thisMoney;\n    } else {\n      mahjongData.data[i].numberOfDefeats++;\n      mahjongData.data[i].moneyOfDefeats += mahjongData.data[i].thisMoney;\n    }\n    mahjongData.data[i].moneyOfTotal += mahjongData.data[i].thisMoney;\n    mahjongData.data[i].winningProbability = (\n      mahjongData.data[i].numberOfVictories /\n      (mahjongData.data[i].numberOfVictories +\n        mahjongData.data[i].numberOfDefeats)\n    ).toFixed(4);\n    mahjongData.data[i].mahjongRecord.push(mahjongData.data[i].thisMoney);\n    mahjongData.data[i].thisMoney = \"-\";\n  }\n  uploadData();\n  ElMessage({\n    message: \"添加成功\",\n    type: \"success\",\n  });\n};\n\nconst deleteI = (index) => {\n  // console.log(\"deleteI\");\n  ElMessageBox.confirm(\"此操作将永久删除该记录, 是否继续?\", \"提示\", {\n    confirmButtonText: \"确定\",\n    cancelButtonText: \"取消\",\n    type: \"warning\",\n  })\n    .then(() => {\n      //\n      console.log(\"删除\");\n      mahjongData.data.forEach((item) => {\n        if (item.mahjongRecord[index] >= 0) {\n          item.numberOfVictories--;\n          item.moneyOfVictories -= item.mahjongRecord[index];\n        } else {\n          item.numberOfDefeats--;\n          item.moneyOfDefeats -= item.mahjongRecord[index];\n        }\n        item.moneyOfTotal -= item.mahjongRecord[index];\n        item.winningProbability = (\n          item.numberOfVictories /\n          (item.numberOfVictories + item.numberOfDefeats)\n        ).toFixed(4);\n        item.mahjongRecord.splice(index, 1);\n        uploadData();\n      });\n    })\n    .catch(() => {\n      // console.log(\"取消\");\n    });\n};\n\nconst deleteH = (data) => {\n  //找到对应的数据，删除\n\n  let index = latelyData.data.findIndex((item) => {\n    return item.mahjongData === data;\n  });\n  console.log(\"index\", index);\n  console.log(\"data\", data);\n  console.log(\"latelyData.data\", latelyData.data);\n  ElMessageBox.confirm(\"此操作将永久删除该记录, 是否继续?\", \"提示\", {\n    confirmButtonText: \"确定\",\n    cancelButtonText: \"取消\",\n    type: \"warning\",\n  })\n    .then(() => {\n      latelyData.data.splice(index, 1);\n      uploadData();\n      //关闭dialog\n      latelyData.showDetail = false;\n      ElMessage({\n        message: \"删除成功\",\n        type: \"success\",\n      });\n    })\n    .catch(() => {\n      // console.log(\"取消\");\n    });\n};\n\nconst showDetail = (index) => {\n  // console.log(\"showDetail\");\n  // console.log(index);\n  // console.log(latelyData.data[index]);\n  latelyData.detailData = latelyData.data[index].mahjongData;\n  //添加一个属性，记录当前的index\n  latelyData.detailData.index = index;\n  latelyData.showDetail = true;\n};\n\nconst showSummaryInformation = (item) => {\n  // console.log(item);\n  // return\n  // 汇总latelyData.data中的数据，找到和item.id相同的数据，将其数据汇总,输出\n  // if (latelyData.data.length === 0 || latelyData.data === undefined || Number(item.id) >= latelyData.data[0].mahjongData.length) {\n  //   ElMessage({\n  //     message: \"暂无数据\",\n  //     type: \"warning\",\n  //   });\n  //   return;\n  // }\n  let sum = {\n    id: item.id,\n    name: item.name,\n    winningProbability: 0,\n    numberOfVictories: 0,\n    numberOfDefeats: 0,\n    moneyOfVictories: 0,\n    moneyOfDefeats: 0,\n    moneyOfTotal: 0,\n    mahjongRecord: [],\n    thisMoney: \"-\",\n  };\n  latelyData.data.forEach((item2) => {\n    let index = Number(item.id);\n    if (item2.mahjongData[index] === undefined) {\n      return;\n    }\n    if (item2.mahjongData[index].id === item.id) {\n      sum.numberOfVictories += item2.mahjongData[index].numberOfVictories;\n      sum.numberOfDefeats += item2.mahjongData[index].numberOfDefeats;\n      sum.moneyOfVictories += item2.mahjongData[index].moneyOfVictories;\n      sum.moneyOfDefeats += item2.mahjongData[index].moneyOfDefeats;\n      sum.moneyOfTotal += item2.mahjongData[index].moneyOfTotal;\n      //反向拼接数组\n      sum.mahjongRecord = item2.mahjongData[index].mahjongRecord.concat(\n        sum.mahjongRecord\n      );\n    }\n  });\n  let index = Number(item.id);\n  if (mahjongData.data[index] !== undefined) {\n    sum.numberOfVictories += mahjongData.data[index].numberOfVictories;\n    sum.numberOfDefeats += mahjongData.data[index].numberOfDefeats;\n    sum.moneyOfVictories += mahjongData.data[index].moneyOfVictories;\n    sum.moneyOfDefeats += mahjongData.data[index].moneyOfDefeats;\n    sum.moneyOfTotal += mahjongData.data[index].moneyOfTotal;\n    //正向拼接数组\n    sum.mahjongRecord = sum.mahjongRecord.concat(\n      mahjongData.data[index].mahjongRecord\n    );\n  }\n  sum.winningProbability = (\n    sum.numberOfVictories /\n    (sum.numberOfVictories + sum.numberOfDefeats)\n  ).toFixed(4);\n  sumData.detailData = [sum];\n  // console.log(sumData.detailData);\n  sumData.showDetail = true;\n  // latelyData.detailData = [sum];\n  // latelyData.showDetail = true;\n};\n\nconst clearI = () => {\n  // console.log(\"clearI\");\n  if (mahjongData.data[0].mahjongRecord.length === 0) {\n    ElMessage({\n      message: \"无数据\",\n      type: \"warning\",\n    });\n    return;\n  }\n  ElMessageBox.confirm(\"此操作将永久删除所有记录, 是否继续?\", \"提示\", {\n    confirmButtonText: \"确定\",\n    cancelButtonText: \"取消\",\n    type: \"warning\",\n  })\n    .then(() => {\n      //将当前记录加入历史记录，置于第一位\n      latelyData.data.unshift({\n        date: new Date().getTime(),\n        mahjongData: JSON.parse(JSON.stringify(mahjongData.data)),\n      });\n      mahjongData.data.forEach((item) => {\n        item.thisMoney = \"-\";\n        item.mahjongRecord = [];\n        item.numberOfDefeats = 0;\n        item.numberOfVictories = 0;\n        item.moneyOfDefeats = 0;\n        item.moneyOfVictories = 0;\n        item.moneyOfTotal = 0;\n        item.winningProbability = 0;\n        item.highestSingleVictory = 0;\n        item.highestSingleDefeat = 0;\n      });\n      uploadData();\n    })\n    .catch(() => {\n      // console.log(\"取消删除\");\n    });\n};\n\n//定义一个方法，从数字变成百分比\nconst toPercent = (point) => {\n  // 移动小数点\n  let str = Number(point * 100).toFixed(2);\n  // 加上%号\n  str += \"%\";\n  return str;\n};\n\nconst getWinningProbability = (item) => {\n  if (item.numberOfDefeats + item.numberOfVictories === 0) {\n    return \"0%\";\n  }\n  return `${toPercent(item.winningProbability)}`;\n};\n\nconst getWinningText = (item) => {\n  if (item.numberOfDefeats + item.numberOfVictories === 0) {\n    return \"\";\n  }\n  return `${item.numberOfVictories}胜${item.numberOfDefeats}跪`;\n};\n\nconst getHighestSingleVictory = (item) => {\n  let highestSingleVictory = 0;\n  item.forEach((item) => {\n    if (item > highestSingleVictory) {\n      highestSingleVictory = item;\n    }\n  });\n  return highestSingleVictory;\n};\n\nconst getHighestSingleDefeat = (item) => {\n  let highestSingleDefeat = 0;\n  item.forEach((item) => {\n    if (item < highestSingleDefeat) {\n      highestSingleDefeat = item;\n    }\n  });\n  return highestSingleDefeat;\n};\n\n//定义一个方法，计算是否连胜或者连跪\nconst getContestStreak = (item) => {\n  if (item.mahjongRecord.length === 0) {\n    return \"\";\n  }\n  //从后往前找，若当前值与前一个值正负相同，则继续往前找，若不同，则停止\n  let streak = 1;\n  let streakType = \"\";\n  for (let i = item.mahjongRecord.length - 1; i > 0; i--) {\n    if (item.mahjongRecord[i] * item.mahjongRecord[i - 1] > 0) {\n      streak++;\n    } else {\n      break;\n    }\n  }\n\n  if (streak > 0) {\n    if (item.mahjongRecord[item.mahjongRecord.length - 1] > 0) {\n      streakType = \"胜\";\n    } else {\n      streakType = \"跪\";\n    }\n  }\n  return `${streak}${streakType}中`;\n};\n\nconst getHighestVictoryStreak = (item) => {\n  if (item.mahjongRecord.length === 0) {\n    return \"\";\n  }\n  // 寻找连续的正数，返回最大值\n  let streak = 0;\n  let streakArr = [];\n  for (let i = item.mahjongRecord.length - 1; i > 0; i--) {\n    if (item.mahjongRecord[i] > 0) {\n      streak++;\n    } else {\n      streakArr.push(streak);\n      streak = 0;\n    }\n  }\n  streakArr.push(streak);\n  return Math.max(...streakArr);\n};\n\nconst getHighestDefeatStreak = (item) => {\n  if (item.mahjongRecord.length === 0) {\n    return \"\";\n  }\n  // 寻找连续的负数，返回最大值\n  let streak = 0;\n  let streakArr = [];\n  for (let i = item.mahjongRecord.length - 1; i > 0; i--) {\n    if (item.mahjongRecord[i] < 0) {\n      streak++;\n    } else {\n      streakArr.push(streak);\n      streak = 0;\n    }\n  }\n  streakArr.push(streak);\n  return Math.max(...streakArr);\n};\n\nconst totalColor = (num) => {\n  if (num < 0) {\n    return \"color:red\";\n  }\n  if (isDark.value) {\n    return \"color:white\";\n  }\n  return \"color:blue\";\n};\n\nconst isWx = () => {\n  let ua = window.navigator.userAgent.toLowerCase();\n  if (ua.match(/MicroMessenger/i) == \"micromessenger\") {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n//给指定元素e绑定点击事件，a为单击事件，b为双击事件\nconst clickEvent = (e, a, b) => {\n  var lastTouchEnd = 0;\n  e.addEventListener(\n    \"click\",\n    function (event) {\n      var now = new Date().getTime();\n      if (now - lastTouchEnd <= 300) {\n        clearTimeout(conter);\n        if (b) b(event);\n      } else {\n        var conter = setTimeout(function () {\n          if (a) a(event);\n        }, 300);\n      }\n      lastTouchEnd = now;\n    },\n    false\n  );\n};\n\n//定义一个方法，获取最新的版本号，并监听双击事件，清空全部数据并刷新页面\nconst cleanCache = () => {\n  console.log(\"清空全部数据\");\n  ElMessageBox.confirm(\"此操作将清空全部数据, 是否继续?\", \"提示\", {\n    confirmButtonText: \"确定\",\n    cancelButtonText: \"取消\",\n    type: \"warning\",\n  })\n    .then(() => {\n      localStorage.clear();\n      clearCloudData();\n    })\n    .catch(() => {\n      // console.log(\"取消\");\n    });\n};\n\nconst exportData = () => {\n  // console.log(\"导出数据\");\n  ElMessageBox.confirm(\"此操作将导出数据, 是否继续?\", \"提示\", {\n    confirmButtonText: \"确定\",\n    cancelButtonText: \"取消\",\n    type: \"warning\",\n  })\n    .then(() => {\n      // console.log(\"导出数据\");\n      // console.log(latelyData.data);\n      // console.log(JSON.stringify(latelyData.data));\n      let data = `{\"mahjongData\":${JSON.stringify(\n        mahjongData.data\n      )},\"latelyData\":${JSON.stringify(latelyData.data)}}`;\n      // 将数据写入剪贴板\n      copyData(data);\n      // navigator.clipboard.writeText(data);\n      // console.log(data);\n      let blob = new Blob([data], { type: \"text/plain\" });\n      let a = document.createElement(\"a\");\n      a.href = URL.createObjectURL(blob);\n      a.download = \"mahjongData.json\";\n      a.click();\n    })\n    .catch(() => {\n      // console.log(\"取消\");\n    });\n};\n\nconst addPlayer = () => {\n  // 若已经有数据，则不允许添加玩家，提示需要先结余清空本圈数据\n  if (mahjongData.data.length && mahjongData.data[0].mahjongRecord.length) {\n    ElMessageBox.alert(\"请先结余清空本圈数据再添加新玩家\", \"提示\", {\n      confirmButtonText: \"确定\",\n    });\n    return;\n  }\n  // console.log(\"添加玩家\");\n  ElMessageBox.prompt(\"请输入玩家名称\", \"添加提示\", {\n    confirmButtonText: \"确定\",\n    cancelButtonText: \"取消\",\n    inputPattern: /^[\\u4e00-\\u9fa5_a-zA-Z0-9]+$/,\n    inputErrorMessage: \"玩家名称只能包含中文、英文、数字和下划线\",\n  })\n    .then(({ value }) => {\n      // console.log(value);\n      // 名称不能重复\n      if (mahjongData.data.some((item) => item.name === value)) {\n        ElMessageBox.alert(\"玩家名称不能重复\", \"提示\", {\n          confirmButtonText: \"确定\",\n        });\n        return;\n      }\n      let player = {\n        id: mahjongData.data.length,\n        name: value,\n        winningProbability: 0,\n        numberOfVictories: 0,\n        numberOfDefeats: 0,\n        moneyOfVictories: 0,\n        moneyOfDefeats: 0,\n        moneyOfTotal: 0,\n        mahjongRecord: [],\n        thisMoney: \"-\",\n      };\n      mahjongData.data.push(player);\n      uploadData();\n      // console.log(latelyData.data);\n    })\n    .catch(() => {\n      // console.log(\"取消\");\n    });\n};\n\nconst deletePlayer = () => {\n  // 若已经有数据，则不允许删除玩家，提示需要先结余清空本圈数据\n  if (mahjongData.data.length && mahjongData.data[0].mahjongRecord.length) {\n    ElMessageBox.alert(\"请先结余清空本圈数据再删除玩家\", \"提示\", {\n      confirmButtonText: \"确定\",\n    });\n    return;\n  }\n  // console.log(\"删除玩家\");\n  ElMessageBox.prompt(\"请输入玩家名称\", \"删除提示\", {\n    confirmButtonText: \"确定\",\n    cancelButtonText: \"取消\",\n    inputPattern: /^[\\u4e00-\\u9fa5_a-zA-Z0-9]+$/,\n    inputErrorMessage: \"玩家名称只能包含中文、英文、数字和下划线\",\n  })\n    .then(({ value }) => {\n      // console.log(value);\n      let index = mahjongData.data.findIndex((item) => item.name === value);\n      if (index === -1) {\n        ElMessageBox.alert(\"未找到该玩家\", \"提示\", {\n          confirmButtonText: \"确定\",\n        });\n        return;\n      }\n      // 确定删除该玩家吗\n      ElMessageBox.confirm(\"确定删除该玩家吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          // console.log(\"确定\");\n          mahjongData.data.splice(index, 1);\n          uploadData();\n        })\n        .catch(() => {\n          // console.log(\"取消\");\n        });\n    })\n    .catch(() => {\n      // console.log(\"取消\");\n    });\n};\n\nconst mahjongRecord2String = (item) => {\n  // console.log(item);\n  item = JSON.parse(JSON.stringify(item));\n  let str = \"\";\n\n  for (let i = 0; i < item.length; i++) {\n    //去除item.name前面的空格\n    // item[i].name = item[i].name.trim();\n    str += item[i].name.trim().toString().padEnd(8, \" \");\n  }\n  str += \"\\n\";\n  for (let i = 0; i < item[0].mahjongRecord.length; i++) {\n    for (let j = 0; j < item.length; j++) {\n      //item[j].mahjongRecord[i]转成8个字符，不够的用空格补齐\n      // 如果是正数，前面加个+号\n      let num = item[j].mahjongRecord[i];\n      if (num > 0) {\n        num = \"+\" + num;\n      } else if (num === 0) {\n        num = \" 0\";\n      }\n      str += num.toString().padEnd(8, \" \");\n      +\" \";\n    }\n    str += \"\\n\";\n  }\n  //添加合计\n  str += \"合计：\".toString().padEnd(8, \" \") + \"\\n\";\n  for (let i = 0; i < item.length; i++) {\n    str += item[i].moneyOfTotal.toString().padEnd(8, \" \") + \" \";\n  }\n  //添加胜率\n  str += \"\\n\";\n  str += \"胜率：\".toString().padEnd(8, \" \") + \"\\n\";\n  for (let i = 0; i < item.length; i++) {\n    str += (getWinningProbability(item[i])+' '+getWinningText(item[i])).toString().padEnd(8, \" \") + \" \";\n  }\n\n  //添加最高连胜和最高连跪\n  str += \"\\n\";\n  str += \"最高连胜：\".toString().padEnd(8, \" \") + \"\\n\";\n  for (let i = 0; i < item.length; i++) {\n    str += getHighestVictoryStreak(item[i]).toString().padEnd(8, \" \") + \" \";\n  }\n  str += \"\\n\";\n  str += \"最高连跪：\".toString().padEnd(8, \" \") + \"\\n\";\n  for (let i = 0; i < item.length; i++) {\n    str += getHighestDefeatStreak(item[i]).toString().padEnd(8, \" \") + \" \";\n  }\n  str += \"\\n\";\n  //添加最高单局胜利和最高单局失败\n  str += \"最高单局胜利：\".toString().padEnd(8, \" \") + \"\\n\";\n  for (let i = 0; i < item.length; i++) {\n    let highestSingleVictory = getHighestSingleVictory(item[i].mahjongRecord);\n    if (highestSingleVictory > 0) {\n      highestSingleVictory = \"+\" + highestSingleVictory;\n    } else if (highestSingleVictory === 0) {\n      highestSingleVictory = \" 0\";\n    }\n    str += highestSingleVictory.toString().padEnd(8, \" \") + \" \";\n  }\n  str += \"\\n\";\n  str += \"最高单局失败：\".toString().padEnd(8, \" \") + \"\\n\";\n  for (let i = 0; i < item.length; i++) {\n    let highestSingleDefeat = getHighestSingleDefeat(item[i].mahjongRecord);\n    str += highestSingleDefeat.toString().padEnd(8, \" \") + \" \";\n  }\n  str += \"\\n\";\n  return str;\n};\n\nconst copyData = (str) => {\n  //创建一个textarea元素\n  let textarea = document.createElement(\"textarea\");\n  //设置textarea的属性\n  textarea.setAttribute(\"id\", \"textarea\");\n  textarea.setAttribute(\n    \"style\",\n    \"position:fixed;top:0;left:0;width:0;height:0;\"\n  );\n  //把内容放到textarea中\n  textarea.value = str;\n  //把textarea插入到body中\n  document.body.appendChild(textarea);\n  //选中textarea中的内容\n  textarea.select();\n  //复制\n  document.execCommand(\"copy\");\n  //删除textarea\n  document.body.removeChild(textarea);\n  ElMessage.success(\"复制成功\");\n};\n</script>\n\n<template>\n  <div class=\"toggle\" v-if=\"false\">\n    <span @click.stop=\"toggleDark()\">暗黑模式</span>\n    <el-switch v-model=\"isDark\" />\n  </div>\n\n  <div class=\"main\">\n    <h2 style=\"text-align: center; margin: 0\" @click.stop=\"toggleDark()\">\n      麻将麻将计分!!!\n    </h2>\n    <div\n      class=\"table\"\n      v-loading=\"mahjongData.isLoading\"\n      element-loading-background=\"rgba(122, 122, 122, 0.8)\"\n    >\n      <table>\n        <tbody>\n          <th\n            v-for=\"item in mahjongData.data\"\n            @click=\"showSummaryInformation(item)\"\n          >\n            {{ item.name }} <br />\n          </th>\n          <tr style=\"margin-top: 20px\">\n            <td\n              v-for=\"item in mahjongData.data\"\n              style=\"font-size: 14px; text-align: center\"\n            >\n            胜率：{{ getWinningProbability(item) }}<br>{{ getWinningText(item) }}\n            </td>\n          </tr>\n          <tr style=\"margin-top: 20px\">\n            <td\n              v-for=\"item in mahjongData.data\"\n              :style=\"\n                'font-size: 14px; text-align: center;' +\n                totalColor(-getContestStreak(item).indexOf('跪'))\n              \"\n            >\n              {{ getContestStreak(item) }}\n            </td>\n          </tr>\n          <tr>\n            <td v-for=\"item in mahjongData.data\">\n              <!-- 循环输出item中的每一项 -->\n              <div\n                type=\"primary\"\n                size=\"default\"\n                v-for=\"(m, index) in item.mahjongRecord\"\n              >\n                <div class=\"card1\" @click=\"deleteI(index)\">\n                  <code :style=\"totalColor(m)\">\n                    {{ m > 0 ? \"+\" : \"\" }}{{ m }}\n                  </code>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"operation\">\n      <tr class=\"total\">\n        <td\n          v-for=\"item in mahjongData.data\"\n          @click=\"downloadData\"\n          :style=\"\n            totalColor(item.moneyOfTotal) + ';font-size: 30px;font-weight: bold'\n          \"\n        >\n          {{ item.moneyOfTotal > 0 ? \"+\" : \"\" }}{{ item.moneyOfTotal }}\n        </td>\n      </tr>\n\n      <tr>\n        <td\n          v-for=\"item in mahjongData.data\"\n          :key=\"item.id\"\n          style=\"border: none\"\n        >\n          <!-- 循环输出item中的每一项 -->\n          <el-input\n            v-model=\"item.thisMoney\"\n            @focus=\"dealNum($event, 'focus')\"\n            @blur=\"dealNum($event, 'blur')\"\n            class=\"player\"\n            type=\"number\"\n          />\n        </td>\n      </tr>\n\n      <div class=\"info\"></div>\n      <div class=\"version\">版本号：v2.5.0（2023年1月12日20:05:21）</div>\n\n      <!-- <div class=\"version\">版本号：v1.3.0（2022年12月22日13:05:49）</div> -->\n\n      <!-- <div class=\"version\">\n        版本号：v1.2.0（2022年12月22日02:17:47）\n      </div>\n      <div class=\"version\">版本号：v1.0.0（2022年12月21日22:53:20）</div> -->\n      <div class=\"buttons\">\n        <el-button type=\"primary\" size=\"large\" @click=\"clearI\"\n          >结余清空</el-button\n        >\n        <el-button type=\"primary\" size=\"large\" @click=\"addI\"\n          >添加记录</el-button\n        >\n      </div>\n    </div>\n    <el-collapse\n      v-model=\"mahjongData.activeName\"\n      @change=\"showCol(mahjongData.activeName)\"\n    >\n      <el-collapse-item title=\"更多功能\" name=\"2\">\n        <div class=\"moreF\">\n          <!-- 添加一个导出数据按钮 -->\n\n          <el-button\n            text\n            type=\"primary\"\n            size=\"large\"\n            @click=\"exportData\"\n            style=\"margin: 0 auto\"\n            >导出数据</el-button\n          >\n          <!-- 添加一个新增玩家按钮 -->\n          <el-button\n            text\n            type=\"primary\"\n            size=\"large\"\n            @click=\"addPlayer\"\n            style=\"margin: 0 auto\"\n            >新增玩家</el-button\n          >\n          <!-- 添加一个删除玩家按钮 -->\n          <el-button\n            text\n            type=\"danger\"\n            size=\"large\"\n            @click=\"deletePlayer\"\n            style=\"margin: 0 auto\"\n            >删除玩家</el-button\n          >\n        </div>\n        <el-collapse-item title=\"最近记录\" name=\"0\">\n          <div\n            class=\"lately\"\n            v-for=\"(data, index) in latelyData.data\"\n            :key=\"data.date\"\n            @click=\"showDetail(index)\"\n          >\n            <div class=\"latelyRecord\" v-if=\"index <= 2 || latelyData.showMore\">\n              <b>{{\n                dayjs(new Date(data.date)).format(\"YYYY-MM-DD HH:mm:ss\")\n              }}</b>\n              <div\n                class=\"card2\"\n                v-for=\"item in data.mahjongData\"\n                :key=\"item.id\"\n              >\n                <div></div>\n                <code>\n                  {{ item.name }}\n                  胜率：{{ getWinningProbability(item) }}<br>{{ getWinningText(item) }}<br>合计:\n                  <span :style=\"totalColor(item.moneyOfTotal)\"\n                    >{{ item.moneyOfTotal > 0 ? \"+\" : \"\"\n                    }}{{ item.moneyOfTotal }}</span\n                  >\n                </code>\n              </div>\n            </div>\n          </div>\n          <div class=\"showMore\" v-if=\"latelyData.data.length > 3\">\n            <el-button\n              text\n              type=\"primary\"\n              @click=\"latelyData.showMore = !latelyData.showMore\"\n            >\n              {{ latelyData.showMore ? \"收起\" : \"展开\" }} 共{{\n                latelyData.data.length - 3\n              }}\n              条记录\n            </el-button>\n          </div>\n        </el-collapse-item>\n        <el-collapse-item title=\"使用说明\" name=\"1\">\n          <code>\n            <div>\n              1.输入金额后，点击添加，即可添加一条记录（<b>输入到最后一个数据时，点击输入框即可自动计算</b>）\n            </div>\n            2.点击记录，即可删除该条记录<br />\n            3.点击结余清空，即可保存记录，并重新开始记录<br />\n            4.点击标题，即可切换暗黑/日间模式<br />\n            5.双击版本号可以清除缓存，并刷新页面<br />\n            6.点击玩家昵称，可以显示用户汇总数据<br />\n            7.点击主页合计数据，可以用云端同步数据<br />\n            <b\n              >TODO:\n              用户创建房间，房间内多人同时使用（目前是所有人共用一个房间）</b\n            ><br />\n            <div v-if=\"isWx()\">\n              微信端可以用浮窗模式，<b>点击右上角三个点，选择浮窗</b>，下次可以直接在主页左滑打开\n            </div>\n          </code>\n        </el-collapse-item>\n      </el-collapse-item>\n    </el-collapse>\n  </div>\n\n  <el-dialog\n    center\n    v-model=\"latelyData.showDetail\"\n    title=\"详细数据\"\n    style=\"width: 90%; max-width: 450px\"\n  >\n    <div style=\"display: flex; justify-content: space-between\">\n      <!-- 添加一个复制按钮 -->\n      <el-button\n        text\n        type=\"success\"\n        size=\"default\"\n        @click=\"\n          copyData(\n            getDateByIndex(latelyData.detailData.index) +\n              '\\n' +\n              mahjongRecord2String(latelyData.detailData)\n          )\n        \"\n        style=\"margin: 0 auto\"\n        >复制数据</el-button\n      >\n      <el-button\n        text\n        type=\"danger  \"\n        size=\"default\"\n        @click=\"deleteH(latelyData.detailData)\"\n        style=\"margin: 0 auto\"\n        >删除数据</el-button\n      >\n    </div>\n    <table>\n      <tbody>\n        <th v-for=\"item in latelyData.detailData\">{{ item.name }} <br /></th>\n        <tr style=\"margin-top: 20px\">\n          <td\n            v-for=\"item in latelyData.detailData\"\n            style=\"font-size: 14px; text-align: center\"\n          >\n            胜率：{{ getWinningProbability(item) }}<br>{{ getWinningText(item) }}\n          </td>\n        </tr>\n        <tr>\n          <td v-for=\"item in latelyData.detailData\" class=\"detailRecord\">\n            <!-- 循环输出item中的每一项 -->\n            <div\n              type=\"primary\"\n              size=\"default\"\n              v-for=\"(m, index) in item.mahjongRecord\"\n            >\n              <div class=\"card1\">\n                <code :style=\"totalColor(m)\">\n                  {{ m > 0 ? \"+\" : \"\" }}{{ m }}\n                </code>\n              </div>\n            </div>\n          </td>\n        </tr>\n\n        <tr class=\"total\">\n          <td\n            v-for=\"item in latelyData.detailData\"\n            :style=\"\n              totalColor(item.moneyOfTotal) +\n              ';font-size: 30px;font-weight: bold'\n            \"\n          >\n            <!-- 循环输出item中的每一项 -->\n            {{ item.moneyOfTotal }}\n          </td>\n        </tr>\n        <!-- 最高连胜 -->\n        <tr>\n          <td\n            v-for=\"item in latelyData.detailData\"\n            style=\"font-size: 14px; text-align: center\"\n          >\n            最高连胜：<br />{{ getHighestVictoryStreak(item) }}\n          </td>\n        </tr>\n        <!-- 最高连败 -->\n        <tr>\n          <td\n            v-for=\"item in latelyData.detailData\"\n            style=\"font-size: 14px; text-align: center\"\n          >\n            最高连败：<br />{{ getHighestDefeatStreak(item) }}\n          </td>\n        </tr>\n        <!-- 最高单局胜利 -->\n        <tr>\n          <td\n            v-for=\"item in latelyData.detailData\"\n            style=\"font-size: 14px; text-align: center\"\n          >\n            最高单局胜利：<br />{{\n              getHighestSingleVictory(item.mahjongRecord)\n            }}\n          </td>\n        </tr>\n        <!-- 最高单局失败 -->\n        <tr>\n          <td\n            v-for=\"item in latelyData.detailData\"\n            style=\"font-size: 14px; text-align: center\"\n          >\n            最高单局失败：<br />{{ getHighestSingleDefeat(item.mahjongRecord) }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </el-dialog>\n\n  <el-dialog\n    center\n    v-model=\"sumData.showDetail\"\n    title=\"历史战绩\"\n    style=\"width: 90%; max-width: 450px\"\n  >\n    <div style=\"display: flex; justify-content: space-between\">\n      <!-- 添加一个复制按钮 -->\n      <el-button\n        text\n        type=\"success\"\n        size=\"default\"\n        @click=\"copyData(mahjongRecord2String(sumData.detailData))\"\n        style=\"margin: 0 auto\"\n        >复制数据</el-button\n      >\n    </div>\n\n    <table>\n      <tbody>\n        <th v-for=\"item in sumData.detailData\">{{ item.name }} <br /></th>\n        <tr style=\"margin-top: 20px\">\n          <td\n            v-for=\"item in sumData.detailData\"\n            style=\"font-size: 14px; text-align: center\"\n          >\n            胜率：{{ getWinningProbability(item) }}<br>{{ getWinningText(item) }}\n          </td>\n        </tr>\n        <div class=\"table\">\n          <tr>\n            <td v-for=\"item in sumData.detailData\" style=\"border: none\">\n              <!-- 循环输出item中的每一项 -->\n              <div\n                type=\"primary\"\n                size=\"default\"\n                v-for=\"(m, index) in item.mahjongRecord\"\n              >\n                <div class=\"card1\">\n                  <code :style=\"totalColor(m)\">\n                    {{ m > 0 ? \"+\" : \"\" }}{{ m }}\n                  </code>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </div>\n\n        <tr class=\"total\">\n          <td\n            v-for=\"item in sumData.detailData\"\n            :style=\"\n              totalColor(item.moneyOfTotal) +\n              ';font-size: 30px;font-weight: bold'\n            \"\n          >\n            <!-- 循环输出item中的每一项 -->\n            {{ item.moneyOfTotal }}\n          </td>\n        </tr>\n\n        <!-- 最高连胜 -->\n        <tr>\n          <td\n            v-for=\"item in sumData.detailData\"\n            style=\"font-size: 14px; text-align: center\"\n          >\n            最高连胜：<br />{{ getHighestVictoryStreak(item) }}\n          </td>\n        </tr>\n        <!-- 最高连败 -->\n        <tr>\n          <td\n            v-for=\"item in sumData.detailData\"\n            style=\"font-size: 14px; text-align: center\"\n          >\n            最高连败：<br />{{ getHighestDefeatStreak(item) }}\n          </td>\n        </tr>\n        <!-- 最高单局胜利 -->\n        <tr>\n          <td\n            v-for=\"item in sumData.detailData\"\n            style=\"font-size: 14px; text-align: center\"\n          >\n            最高单局胜利：<br />{{\n              getHighestSingleVictory(item.mahjongRecord)\n            }}\n          </td>\n        </tr>\n        <!-- 最高单局失败 -->\n        <tr>\n          <td\n            v-for=\"item in sumData.detailData\"\n            style=\"font-size: 14px; text-align: center\"\n          >\n            最高单局失败：<br />{{ getHighestSingleDefeat(item.mahjongRecord) }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </el-dialog>\n</template>\n\n<style scoped>\n.main {\n  max-width: 500px;\n  margin: 0 auto;\n}\n.operation {\n  position: fixed;\n  bottom: 20px;\n  width: 100%;\n  max-width: 500px;\n  z-index: 100;\n}\n@media screen and (max-width: 500px) {\n  .operation {\n    left: 0;\n  }\n}\n.buttons {\n  display: flex;\n  justify-content: space-around;\n}\n.version {\n  /* 灰色字体，居中底部 */\n  color: #999;\n  text-align: center;\n  /* position: fixed; */\n  bottom: 0;\n  width: 100%;\n  /* 字体小 */\n  font-size: 14px;\n  margin: 10px;\n  margin: 0;\n  padding: 0;\n}\n.info {\n  margin: 10px;\n}\n.el-button + .el-button {\n  margin-left: 0;\n}\n.lately {\n  margin-top: 20px;\n}\n.latelyRecord {\n  background-color: #999;\n  padding: 10px;\n  border: 2px solid blue;\n}\ntable {\n  /* 加粗 */\n  font-weight: bold;\n  margin: 0 auto;\n  width: 100%;\n  font-size: 20px;\n  border-collapse: collapse;\n}\ntable,\nth,\ntd {\n  border: 1px solid;\n  text-align: center;\n}\n.table {\n  max-height: 50vh;\n  overflow: auto;\n  text-align: center;\n  margin: 0 auto;\n  display: flex;\n}\nth {\n  position: sticky;\n  top: 0; /* 第一列最上 */\n  background-color: rgb(181, 178, 178);\n}\n\n.table tr {\n  margin: 0 auto;\n}\n.total td {\n  border: none;\n  margin: 0 auto;\n}\n\n.card2 {\n  /* 背景色 */\n  background-color: #999;\n  /* 边框 */\n  border: 2px solid blue;\n  /* 圆角 */\n  border-radius: 10px;\n  /* 内边距 */\n  padding: 10px;\n  /* 外边距 */\n  margin: 10px;\n  /* 字体大小 */\n  font-size: 20px;\n  /* 字体居中 */\n  text-align: center;\n  display: flex;\n}\n.el-dialog + .el-dialog--center {\n  margin-top: 10px;\n}\n</style>\n","import { createApp } from 'vue'\nimport 'element-plus/theme-chalk/dark/css-vars.css'\n\n// import './style.css'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport App from './App.vue'\n\nconst app = createApp(App)\n\napp.use(ElementPlus)\napp.mount('#app')\n"],"names":["isDark","useDark","toggleDark","useToggle","url","mahjongData","reactive","latelyData","getDateByIndex","index","dayjs","sumData","uploadData","data","axios","downloadData","res","cloudData","clearCloudData","showCol","name","onMounted","version","clickEvent","cleanCache","dealNum","type","allInput","allInputArr","numberOfNums","item","sum","addI","flag","ElMessage","i","deleteI","ElMessageBox","deleteH","showDetail","showSummaryInformation","item2","clearI","toPercent","point","str","getWinningProbability","getWinningText","getHighestSingleVictory","highestSingleVictory","getHighestSingleDefeat","highestSingleDefeat","getContestStreak","streak","streakType","getHighestVictoryStreak","streakArr","getHighestDefeatStreak","totalColor","num","isWx","a","b","lastTouchEnd","event","now","conter","exportData","copyData","blob","addPlayer","value","player","deletePlayer","mahjongRecord2String","j","textarea","app","createApp","App","ElementPlus"],"mappings":"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"}